<div
  class="product"
  [class.is-hovered]="isHovered()"
  (mouseenter)="onHover(true)"
  (mouseleave)="onHover(false)"
>
  <div class="product__actions">
    <div class="icon-circle cart" (click)="handleProductAction('Basket')">
      <img src="Basket-icon.svg" alt="cart" />
    </div>
    <div class="icon-circle" (click)="handleProductAction('Like')">
      <img src="heart-icon.svg" alt="wishlist" />
    </div>
    <div class="icon-circle" (click)="handleProductAction('Zoom')">
      <img src="Zoom-icon.svg" alt="wishlist" />
    </div>
  </div>

  <div class="product__img">
    <img
      [src]="product().url"
      [alt]="product().name"
      [ngStyle]="{
        'border-radius': typeProduct() === 'Home' ? '8px' : '',
      }"
    />
    <button class="view-details-btn" (click)="viewDetailes()">View Details</button>
  </div>
  @switch (typeProduct()) {
    @default {
      <div class="product__fullIn">
        <h3 class="product-title">{{ product().name }}</h3>

        <div class="product-decor">
          <span class="dot pink"></span>
          <span class="dot blue"></span>
          <span class="dot navy"></span>
        </div>

        <p class="product-code">Code - Y523{{ product().id }}</p>
        <p class="product-price">${{ product().currentPrice | number: '1.2-2' }}</p>
      </div>
    }
    @case ('Trend') {
      <div class="product__fullIn">
        <h3 class="product-title">{{ product().name }}</h3>
        <br />
        <br />
        <div class="flex-row">
          <p class="product-price">${{ product().currentPrice | number: '1.2-2' }}</p>
          <p class="product-price grey">
            <s>${{ product().originalPrice | number: '1.2-2' }}</s>
          </p>
        </div>
      </div>
    }
    @case ('Home') {
      <div class="product__home-info">
        <div class="home-meta">
          <div class="meta-item" style="margin-top: 2px">
            <img src="pen-icon.svg" alt="author" class="meta-icon" />
            <span>{{ product().owner }}</span>
          </div>

          <div class="meta-item">
            <img src="calendar-icon.svg" alt="calendar" class="meta-icon" />
            <p>{{ product().date ? (product().date | date: 'mediumDate') : 'N/A' }}</p>
          </div>
        </div>

        <p class="subtitle-4 small-title" [ngStyle]="{ color: isHovered() ? '#FB2E86' : '' }">
          {{ product().Title }}
        </p>
        <p class="home-description paragraph">{{ product().description }}</p>
        <a class="read-more-link" [routerLink]="['/readmore']" class="link">Read More</a>
      </div>
    }
    @case ('basket') {}
  }
</div>

@if (isZoomed) {
  <div class="zoom-overlay" (click)="isZoomed = false">
    <div class="zoom-content" (click)="$event.stopPropagation()">
      <img [src]="product().url" [alt]="product().name" />
      <button class="close-btn" (click)="closeZoom()">Close</button>
    </div>
  </div>
}
