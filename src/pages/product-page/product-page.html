<div class="container flex-header">
  <h1 class="heading-1">Products</h1>
  <div class="breadcrumb">
    <span class="color-grey-2">Home </span>
    <span class="color-grey-3">•</span>
    <span class="color-pink">Product</span>
  </div>
</div>

<div class="product-toolbar container">
  <div class="toolbar-group">
    <label class="color-grey-3">Per Page</label>
    <div class="custom-select-container">
      <select class="styled-select" (change)="onPerPageChange($event)">
        <option [value]="10">10</option>
        <option value="5">5</option>
      </select>
    </div>
  </div>

  <div class="toolbar-group">
    <label class="color-grey-3">Sort By</label>
    <div class="custom-select-container sort-wide">
      <select class="styled-select" (change)="onSortChange($event)">
        <option value="high-low">Price: High -> Low</option>
        <option value="low-high">Price: Low -> High</option>
      </select>
    </div>
  </div>

  <div class="toolbar-group">
    <label class="color-grey-3">View</label>
    <div class="icon-group view-mode">
      <button class="view-btn" [class.active]="viewMode() === 'grid'" (click)="toggleView('grid')">
        <svg
          width="12"
          height="12"
          viewBox="0 0 12 12"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <rect x="0.5" y="0.5" width="4" height="4" stroke="currentColor" />
          <rect x="7.5" y="0.5" width="4" height="4" stroke="currentColor" />
          <rect x="0.5" y="7.5" width="4" height="4" stroke="currentColor" />
          <rect x="7.5" y="7.5" width="4" height="4" stroke="currentColor" />
        </svg>
      </button>
      <button class="view-btn" [class.active]="viewMode() === 'list'" (click)="toggleView('list')">
        <svg
          width="15"
          height="12"
          viewBox="0 0 15 12"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <rect width="15" height="4" rx="1" fill="currentColor" />
          <rect y="8" width="15" height="4" rx="1" fill="currentColor" />
        </svg>
      </button>
    </div>
  </div>
</div>

<div class="shop-container container">
  <aside class="filter-sidebar">
    <section class="filter-group">
      <h3>Product Brand</h3>
      <ul>
        <li>
          <input
            type="checkbox"
            id="apple"
            class="checkBox-info"
            (change)="toggleSelection('Apple', 'brend')"
          />
          <label for="apple">Apple</label>
        </li>
        <li>
          <input
            type="checkbox"
            id="sony"
            class="checkBox-info"
            (change)="toggleSelection('Sony', 'brend')"
          />
          <label for="sony ">Sony</label>
        </li>
        <li>
          <input
            type="checkbox "
            id="nike "
            class="checkBox-info"
            (change)="toggleSelection('Nike', 'brend')"
          />
          <label for="nike ">Nike</label>
        </li>
        <li>
          <input
            type="checkbox "
            id="casio "
            class="checkBox-info"
            (change)="toggleSelection('Casio', 'brend')"
          />
          <label for="casio ">Casio</label>
        </li>
        <li>
          <input
            type="checkbox "
            id="vke "
            class="checkBox-info"
            (change)="toggleSelection('Vke', 'brend')"
          />
          <label for="vke ">Vke</label>
        </li>
        <li>
          <input
            type="checkbox "
            id="glossiness "
            class="checkBox-info"
            (change)="toggleSelection('Glossiness', 'brend')"
          />
          <label for="glossiness ">Glossiness</label>
        </li>
      </ul>
    </section>

    <section class="filter-group">
      <h3>Discount offer</h3>
      <ul>
        <li>
          <input
            type="checkbox "
            id="20 "
            class="checkBox-primary"
            (change)="toggleSelection(20, 'discount')"
          />
          <label for="20 ">20%</label>
        </li>
        <li>
          <input
            type="checkbox "
            id="5 "
            class="checkBox-primary"
            (change)="toggleSelection(5, 'discount')"
          />
          <label for="5 ">5%</label>
        </li>
        <li>
          <input
            type="checkbox "
            id="25 "
            class="checkBox-primary"
            (change)="toggleSelection(25, 'discount')"
          />
          <label for="25 ">25%</label>
        </li>
      </ul>
    </section>

    <section class="filter-group">
      <h3>Rating</h3>
      <ul>
        @for (row of ratings.reverse(); track $index) {
          <li class="rating-row">
            <input
              type="checkbox "
              class="checkBox-rating"
              [id]="'rating-' + $index"
              (change)="toggleSelection(5 - $index, 'rating')"
            />
            <div class="stars">
              @for (isGold of row; track $index) {
                <span class="fa fa-star" [class.checked]="isGold" [class.gray]="!isGold"></span>
              }
            </div>
          </li>
        }
      </ul>
    </section>
    <section class="filter-group">
      <h3>Categories</h3>
      <ul>
        <li>
          <input
            type="checkbox "
            id="Watches "
            class="checkBox-primary"
            (change)="toggleSelection('Watches', 'category')"
          /><label for="Watches ">Watches</label>
        </li>
        <li>
          <input
            type="checkbox "
            id="HeadPhones "
            class="checkBox-primary"
            (change)="toggleSelection('HeadPhones', 'category')"
          /><label for="HeadPhones ">HeadPhones</label>
        </li>
        <li>
          <input
            type="checkbox "
            id="LapTop "
            class="checkBox-primary"
            (change)="toggleSelection('Laptop', 'category')"
          /><label for="LapTop ">LapTop</label>
        </li>
        <li>
          <input
            type="checkbox "
            id="Game Console "
            class="checkBox-primary"
            (change)="toggleSelection('Game Console', 'category')"
          /><label for="Game Console ">Game Console</label>
        </li>
        <li>
          <input
            type="checkbox "
            id="Clothe "
            class="checkBox-primary"
            (change)="toggleSelection('Clothe', 'category')"
          /><label for="Clothe ">Clothe</label>
        </li>
        <li>
          <input
            type="checkbox "
            id="Jewllery "
            class="checkBox-primary"
            (change)="toggleSelection('Jewllery', 'category')"
          /><label for="Jewllery ">Jewllery</label>
        </li>
        <li>
          <input
            type="checkbox "
            id="Perfume "
            class="checkBox-primary"
            (change)="toggleSelection('Perfume', 'category')"
          /><label for="Perfume ">Perfume</label>
        </li>
      </ul>
    </section>
    <section class="filter-group">
      <h3>Price Filter</h3>
      <ul>
        <li>
          <input type="checkbox " id="p1 " class="checkBox-primary" />
          <label for="p1 ">$0 - $150</label>
        </li>
        <li>
          <input type="checkbox " id="p2 " class="checkBox-primary" />
          <label for="p2 ">$150 - $350</label>
        </li>
        <li>
          <input type="checkbox " id="p2 " class="checkBox-primary" />
          <label for="p2 ">$350 - $500</label>
        </li>
        <li>
          <input type="checkbox " id="p2 " class="checkBox-primary" />
          <label for="p2 ">$550 - $800</label>
        </li>
        <li>
          <input type="checkbox " id="p2 " class="checkBox-primary" /> <label for="p2 ">$800</label>
        </li>
      </ul>
    </section>
  </aside>

  <div
    class="products-area container"
    [ngClass]="viewMode() === 'grid' ? 'grid-mode' : 'list-mode'"
  >
    @for (item of productes(); track $index) {
      <app-shop-product
        [product]="item"
        [layout]="$any(viewMode() === 'grid' ? 'grid' : 'list')"
      ></app-shop-product>
    }
  </div>
</div>
<div class="pagination-container container">
  <div class="pagination-wrapper">
    <button class="page-btn prev" (click)="goToPage(pageNum() - 1)">
      <span class="arrow">❮</span>
    </button>

    <div class="page-numbers">
      @for (page of perPageArr; track $index) {
        <button class="number-btn" [class.active]="pageNum() === page" (click)="goToPage(page)">
          {{ page }}
        </button>
      }
    </div>

    <button class="page-btn next" (click)="goToPage(pageNum() + 1)">
      <span class="arrow">❯</span>
    </button>
  </div>
</div>
